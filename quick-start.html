<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R82HWQMSP3"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-R82HWQMSP3');
    </script>
    <!-- Basic Page Needs
    ================================================== -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Quick Start | Unicorn.TAF</title>

    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- Favicon
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon.png">

    <!-- Stylesheets
    ================================================== -->
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>

    <header id="masthead" class="site-header site-header-white">
        <nav id="primary-navigation" class="site-navigation">
            
            <div class="container">
                <a href="index.html"><img src="assets/img/unicorn-logo-v2.png" height="55" class="navbar-left"></a>

                <div class="collapse navbar-collapse">

                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="index.html">Home</a></li>
                        <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools<i class="fa fa-caret-down hidden-xs" aria-hidden="true"></i></a>

                            <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                <li><a href="console-runner.html">Console runner</a></li>
                                <li><a href="toolbox.html">Toolbox</a></li>
                            </ul>

                        </li>
                        <li><a href="integrations.html">Integrations</a></li>
                        <li><a href="examples.html">Examples</a></li>
                        <li>
                            <a href="https://github.com/Unicorn-TAF">
                                <img src="https://github.githubassets.com/favicons/favicon-dark.svg" height="20" alt="" title="Source code on GitHub">
                            </a>
                        </li>
                    </ul>

                </div>
            </div>   
        </nav><!-- /.site-navigation -->
    </header>

    <div id="hero" class="hero overlay subpage-hero quick-start-hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Quick Start</h1>
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                  <li class="breadcrumb-item active">Quick Start</li>
                </ol>
            </div><!-- /.hero-text -->
        </div><!-- /.hero-content -->
    </div><!-- /.hero -->

    <main id="main" class="site-main">

        <section class="site-section">

            <div class="container text-center spacing">
                <h1>Your first web test</h1>
            </div>

            <div class="container">

                <h2>Prerequisites</h2>
                <div class="row spacing">
                    <p>> .Net 5 or greater installed (unicorn also works on .Net Framework >= 4.5.2, but steps will differ)<br/>
                    > Latest Unicorn.ConsoleRunner from 
                        <a class="link" href="https://github.com/Unicorn-TAF/console-runner/releases">releases page</a>
                        (download and unpack it at any place on disk).</p>
                </div>

                <h2>Create tests assembly</h2>

                <div class="row spacing">
                    <p>Create new library project. This will be your tests dll.</p>
                    <pre><code class="source-code">dotnet new classlib -o HelloWorldTests
cd HelloWorldTests</code></pre>
                </div>

                <div class="row spacing">
                    <p>Install Unicorn packages for unit tests and Web UI + ChromeDriver package.</p>
                    <pre><code class="source-code">dotnet add package Unicorn.Taf.Core
dotnet add package Unicorn.UI.Core
dotnet add package Unicorn.UI.Web
dotnet add package Selenium.WebDriver.ChromeDriver</code></pre>
                </div>

                <div class="row spacing">
                    <p>Add project property to copy all referenced assemblies into build directory into <b>.csproj</b>. 
                        Full scope of binaries is required to run tests.
                    </p>
                    <pre><code class="source-code language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CopyLocalLockFileAssemblies</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CopyLocalLockFileAssemblies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span></code></pre>
                </div>

                <div class="row spacing">
                    <p>Let's add config file for unicorn framework (let's name it unicornConfig.json). The file can contain configuration of unicorn framework. 
                        In case of specific properties absence default values are used. 
                        See <a class="link" href="console-runner.html">Console runner page</a> for config details.<br/>
                        In this demo the file will just contain some user defined properties (let's parameterize url to test website).<br/><br/>
                        -- file <b>should have</b> <b><i>CopyAlways</i></b> or <b><i>PreserveNewest</i></b> attribute<br/>
                        -- file <b>should not have</b> <b><i>UTF with BOM</i></b> encoding
                    </p>

                    <pre><code class="source-code language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>unicornConfig.json<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CopyToOutputDirectory</span><span class="token punctuation">&gt;</span></span>PreserveNewest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CopyToOutputDirectory</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemGroup</span><span class="token punctuation">&gt;</span></span></code></pre>

                    <p>File contents:</p>
                    <pre><code class="source-code language-json"><span class="token punctuation">{</span>
    <span class="token keyword">"userDefined"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">"siteUrl"</span><span class="token punctuation">:</span> <span class="token string">"https://dobriyanchik.bitbucket.io/unicorn/test-ui-apps.html"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
                </div>


                <div class="row spacing">
                    <p>Application under test is 'Sample "Hello World" app' on <a class="link" href="test-ui-apps.html">Test UI apps page</a>.
                        Let's check positive scenario that non-error modal window shows message for specified title and name.<br/>
                        Just add one more class which will contain test suite with a test.
                    </p>
                    <pre class=" language-csharp"><code class="source-code  language-csharp"><span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>Taf<span class="token punctuation">.</span>Core<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>Taf<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Testing<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>Taf<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Testing<span class="token punctuation">.</span>Attributes<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>Taf<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Verification<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>Taf<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Verification<span class="token punctuation">.</span>Matchers<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Driver<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Matchers<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Web<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>Controls<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>Controls<span class="token punctuation">.</span>Typified<span class="token punctuation">;</span>
<span class="token keyword">using</span> Unicorn<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>Driver<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> HelloWorldTests
<span class="token punctuation">{</span>
    <span class="token comment">// Test suite should be marked with [Suite] attribute and should inherit TestSuite.</span>
    <span class="token punctuation">[</span><span class="token function">Suite</span><span class="token punctuation">(</span><span class="token string">"Sample tests"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleTests</span> <span class="token punctuation">:</span> TestSuite
    <span class="token punctuation">{</span>
        DesktopWebDriver driver<span class="token punctuation">;</span>

        <span class="token comment">// This code is executed before suite execution.</span>
        <span class="token punctuation">[</span>BeforeSuite<span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SuiteInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            driver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DesktopWebDriver</span><span class="token punctuation">(</span>BrowserType<span class="token punctuation">.</span>Chrome<span class="token punctuation">)</span><span class="token punctuation">;</span>
            driver<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>Config<span class="token punctuation">.</span><span class="token function">GetUserDefinedSetting</span><span class="token punctuation">(</span><span class="token string">"siteUrl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get test site url from unicorn config.</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Test should be marked with [Test] attribute.</span>
        <span class="token punctuation">[</span>Test<span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SimpleTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">string</span> title <span class="token operator">=</span> <span class="token string">"Mr"</span><span class="token punctuation">;</span>
            <span class="token keyword">string</span> name <span class="token operator">=</span> <span class="token string">"NoName"</span><span class="token punctuation">;</span>

            <span class="token comment">/* It's possible to search for not only generic WebControl, but also any custom or typified control.
            * Main typified controls are from the box. All controls have built-in detailed logging.
            * Available locators are xpath, css, id, name, class, tag. */</span>
            driver<span class="token punctuation">.</span><span class="token generic-method function">Find<span class="token punctuation">&lt;</span>Dropdown<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ByLocator<span class="token punctuation">.</span><span class="token function">Id</span><span class="token punctuation">(</span><span class="token string">"titleDropdown"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
            driver<span class="token punctuation">.</span><span class="token generic-method function">Find<span class="token punctuation">&lt;</span>TextInput<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ByLocator<span class="token punctuation">.</span><span class="token function">Id</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            driver<span class="token punctuation">.</span><span class="token generic-method function">Find<span class="token punctuation">&lt;</span>WebControl<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ByLocator<span class="token punctuation">.</span><span class="token function">Css</span><span class="token punctuation">(</span><span class="token string">"a[href = '#helloWorld']"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            WebControl modalWindow <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token generic-method function">Find<span class="token punctuation">&lt;</span>WebControl<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ByLocator<span class="token punctuation">.</span><span class="token function">Id</span><span class="token punctuation">(</span><span class="token string">"modalWindow"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// Asserts from the box with rich matchers collection. Any matcher could be negated with Not matcher.</span>
            Assert<span class="token punctuation">.</span><span class="token function">That</span><span class="token punctuation">(</span>modalWindow<span class="token punctuation">,</span> UI<span class="token punctuation">.</span>Control<span class="token punctuation">.</span><span class="token function">Visible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">string</span> expectedMessage <span class="token operator">=</span> $<span class="token string">"{title} {name} said: 'Hello World!'"</span><span class="token punctuation">;</span>

            <span class="token comment">// Chain asserts allow to make several checks without failing the test on first check fail.</span>
            <span class="token keyword">new</span> <span class="token class-name">ChainAssert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">That</span><span class="token punctuation">(</span>modalWindow<span class="token punctuation">,</span> Is<span class="token punctuation">.</span><span class="token function">Not</span><span class="token punctuation">(</span>UI<span class="token punctuation">.</span>Control<span class="token punctuation">.</span><span class="token function">HasAttributeContains</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"error"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">That</span><span class="token punctuation">(</span>modalWindow<span class="token punctuation">,</span> UI<span class="token punctuation">.</span>Control<span class="token punctuation">.</span><span class="token function">HasTextMatching</span><span class="token punctuation">(</span>$<span class="token string">"\\s*{expectedMessage}\\s*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AssertChain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// This code is executed after suite execution.</span>
        <span class="token punctuation">[</span>AfterSuite<span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SuiteCleanUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
            driver<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
                </div>
            <h2>Run test</h2>

            <div class="row spacing">
                <p>Build your tests assembly. Run next command within project directory:</p>
                <pre><code class="source-code">dotnet build</code></pre>
            </div>

            <div class="row spacing">
                <p>Navigate to directory where Unicorn.ConsoleRunner was unpacked and execute the following command</p>
                <pre><code class="source-code">Unicorn.ConsoleRunner.exe --test-assembly=path_to_HelloWorldTests.dll --config=path_to_unicornConfig.json</code></pre>
            </div>

            <div class="row spacing text-center">
                <h3><b>Congrats you have first passed unicorn test!</b></h3>
                <img src="assets/img/quick-start-passed.png" height="400">
            </div>

            </div>
        </section>        

        <section class="site-section" style="display: none;">

            <div class="container text-center spacing">
                <h1>Allure</h1>
            </div>   

            <div class="container">


                <h2>Allure reporting</h2>
                <div class="row spacing">
                    <p>Install <a class="link" href="https://docs.qameta.io/allure/">Allure</a> (it takes just few minutes)</p>
                </div>

                <div class="row spacing">
                    <p>Install Allure reporter package</p>
                    <pre><code class="source-code">dotnet add package Unicorn.AllureAgent</code></pre>
                </div>

                <div class="row spacing">
                    <p>Add new class which will contain assembly initialization and cleanup code (including Allure reporting code).</p>
                    <pre>
                        <code class="source-code">using Unicorn.AllureAgent;
using Unicorn.Core.Testing.Tests.Attributes;

namespace HelloWorldTests
{
    <span class="sc-com">/* Tests runner searches for class marked with [TestsAssembly] 
    * and uses it (if any) for run initialization and cleanup. */</span>
    [TestsAssembly] 
    public static class AssemblyMethods
    {
        private static AllureReporterInstance reporter;

        <span class="sc-com">// This code is executed before all tests execution.</span>
        [RunInitialize]
        public static void InitRun()
        {
            reporter = new AllureReporterInstance(); <span class="sc-com">// Starts new Allure launch.</span>
        }

        <span class="sc-com">// This code is executed after all tests execution.</span>
        [RunFinalize]
        public static void FinalizeRun()
        {
            reporter.Dispose(); <span class="sc-com">// Unsubscribes allure reporter from unicorn events.</span>
            reporter = null;
        }
    }
}                        </code>
                    </pre>
                </div>

                <div class="row spacing">
                    <p>Add allure configuration file to the project with content below<br/>
                        -- file should have name <b>allureConfig.json</b><br/>
                        -- file should have <b>CopyAlways</b> or <b>PreserveNewest</b> attribute
                    </p>
                    <pre>
                        <code class="source-code">{
    "allure": {
        "directory": "allure-results"
    }
}                       </code>
                    </pre>
                </div>
            </div>
        </section>

    </main><!-- /#main -->

    <main-footer></main-footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap-select.min.js"></script>
    <script src="assets/js/jquery.slicknav.min.js"></script>
    <script src="assets/js/jquery.countTo.min.js"></script>
    <script src="assets/js/jquery.shuffle.min.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/common-elements.js"></script>
  
</body>
</html>